var HEADERS={headers:{Authorization:'Token "b32b59ec8d08206981481033e1d6cac3"'}},URL="https://divegalaxsea.herokuapp.com/",WEATHER_URL="http://api.worldweatheronline.com/free/v2/weather.ashx?q=20.511138%2C-86.949234&format=json&num_of_days=5&key=91e6dc741ca2f99fa18e1408ee471",WEATHER_MARINE_URL="http://api.worldweatheronline.com/free/v2/marine.ashx?q=20.511138%2C-86.949234&format=json&key=91e6dc741ca2f99fa18e1408ee471";!function(){"use strict";var e=angular.module("myApp",["ngRoute","myApp.utilityService","myApp.constants","myApp.directives","myApp.filters","myApp.services","myApp.controller","ngSanitize","jkuri.gallery","ngAnimate","ui.bootstrap","gm.datepickerMultiSelect","ui.mask","checklist-model","angularSpinner"]);e.config(["$routeProvider",function(e){e.when("/home",{templateUrl:"partials/home.html",controller:"HomeCtrl",controllerAs:"home"}),e.when("/reef_map",{templateUrl:"partials/reef_map.html",controller:"ReefMapCtrl",controllerAs:"reefMap"}),e.when("/current_pricing",{templateUrl:"partials/current_pricing.html",controller:"CurrentPricingCtrl",controllerAs:"pricing"}),e.when("/about_cozumel",{templateUrl:"partials/about_cozumel.html",controller:"AboutCozumelCtrl",controllerAs:"aboutCozumel"}),e.when("/gallery",{templateUrl:"partials/gallery.html",controller:"GalleryCtrl",controllerAs:"gallery"}),e.when("/reservations",{templateUrl:"partials/reservations.html",controller:"ReservationsCtrl",controllerAs:"reservation"}),e.otherwise({redirectTo:"/home"})}])}(),function(){"use strict";var e=angular.module("myApp.controller",[]);e.controller("IndexCtrl",["$scope","getWeatherFactory",function(e,i){function t(e){var i;return angular.forEach(s.weatherDescMap,function(t,r){r==e&&(i=t)}),i}function r(e){var i=new Date(e),t=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],r=t[i.getUTCDay()];return r}var s=this;s.tempScale=!0,s.tripAdvisorReview=["You looking for a great, custom experience rather than a cattle boat in CZM???? Call Kim. But do it before you get there... the word will get out and she'll fill up.","Kim truly is a pro. I did my open water dives with her last week. She was prepared, knowledgable, reassuring, relaxed, professional, and funny. The time under and above water with her was great."],s.daysOfTheWeek=[],s.weatherInCity="Current Weather in Cozumel...",s.weatherDescMap={395:'<i class="wi wi-snow"></i>',392:'<i class="wi wi-snow"></i>',389:'<i class="wi wi-thunderstorm"></i>',386:'<i class="wi wi-thunderstorm"></i>',377:'<i class="wi wi-showers"></i>',374:'<i class="wi wi-showers"></i>',371:'<i class="wi wi-snow"></i>',368:'<i class="wi wi-snow"></i>',365:'<i class="wi wi-sleet"></i>',362:'<i class="wi wi-sleet"></i>',359:'<i class="wi wi-thunderstorm"></i>',356:'<i class="wi wi-thunderstorm"></i>',353:'<i class="wi wi-showers"></i>',350:'<i class="wi wi-snow"></i>',338:'<i class="wi wi-snow"></i>',335:'<i class="wi wi-snow"></i>',332:'<i class="wi wi-snow"></i>',329:'<i class="wi wi-snow"></i>',326:'<i class="wi wi-snow"></i>',323:'<i class="wi wi-snow"></i>',320:'<i class="wi wi-sleet"></i>',317:'<i class="wi wi-sleet"></i>',314:'<i class="wi wi-day-showers"></i>',311:'<i class="wi wi-day-showers"></i>',308:'<i class="wi wi-storm-showers"></i>',305:'<i class="wi wi-day-showers"></i>',302:'<i class="wi wi-day-showers"></i>',299:'<i class="wi wi-day-showers"></i>',296:'<i class="wi wi-day-showers"></i>',293:'<i class="wi wi-day-showers"></i>',284:'<i class="wi wi-sleet"></i>',281:'<i class="wi wi-sleet"></i>',266:'<i class="wi wi-sleet"></i>',263:'<i class="wi wi-sleet"></i>',260:'<i class="wi wi-day-fog"></i>',248:'<i class="wi wi-fog"></i>',230:'<i class="wi wi-day-snow-wind"></i>',227:'<i class="wi wi-day-snow-wind"></i>',200:'<i class="wi wi-thunderstorm"></i>',185:'<i class="wi wi-day-sleet"></i>',182:'<i class="wi wi-day-sleet"></i>',179:'<i class="wi wi-snow"></i>',176:'<i class="wi wi-showers"></i>',143:'<i class="wi wi-day-sleet"></i>',122:'<i class="wi wi-cloudy"></i>',119:'<i class="wi wi-cloudy"></i>',116:'<i class="wi wi-day-cloudy"></i>',113:'<i class="wi wi-day-sunny"></i>'},s.toggleTemperature=function(e){"farenheit"===e?s.tempScale=!0:s.tempScale=!1},i.getWeather().then(function(e){for(var i=e.data.weather,n=0;n<i.length;n++)s.daysOfTheWeek.push({date:i[n].date,weekDay:r(i[n].date),maxtempC:i[n].maxtempC,maxtempF:i[n].maxtempF,mintempC:i[n].mintempC,mintempF:i[n].mintempF,weatherCode:t(i[n].hourly[3].weatherCode)});return s.currentWeather=s.daysOfTheWeek.splice(0,1),s.daysOfTheWeek}),i.getMarineWeather().then(function(e){var i=e.data.weather[0].hourly[3];return s.marineWeather={humidity:i.humidity,waterTempC:i.waterTemp_C,waterTempF:i.waterTemp_F,weatherDesc:i.weatherDesc[0].value,windDir:i.winddir16Point,windSpeed:i.windspeedMiles},s.marineWeather})}])}(),function(){"use strict";var e=angular.module("myApp.controller");e.controller("HomeCtrl",["$scope","getWeatherFactory","$window",function(e,i,t){this.pageIdentifier="Home",this.panelTitle="Explore the Mystical Underwater World of Cozumel with Dive GalaxSea",this.alertType=window.localStorage.alertType,this.alertMsg=window.localStorage.alerts,localStorage.clear()}])}(),function(){"use strict";var e=angular.module("myApp.controller");e.controller("ReefMapCtrl",["$scope",function(e){this.pageIdentifier="Reef Map",this.panelTitle="Don't Imagine Paradise, Visit Cozumel!"}])}(),function(){"use strict";var e=angular.module("myApp.controller");e.controller("CurrentPricingCtrl",["$scope","getPricingFactory","usSpinnerService",function(e,i,t){var r=this;r.showSpinner=!0,r.pageIdentifier="Current Pricing",r.panelTitle="Learn About our Scuba Dive Courses & Diving Rates",r.diving="partials/pricing_partials/diving.html",r.rental="partials/pricing_partials/rental_gear.html",r.training="partials/pricing_partials/training.html",r.policies="partials/pricing_partials/policies.html",i.getDivingPricing().then(function(e){r.currentPricingDiving=e}),i.getTrainingPricing().then(function(e){r.currentPricingTraining=e}),i.getRentalPricing().then(function(e){r.currentPricingRentals=e}),i.getSpecialtiesPricing().then(function(e){r.showSpinner=!1,r.currentPricingSpecialties=e}),i.getMiscellaneousPricing().then(function(e){r.showSpinner=!1;var i=e;r.parkFee=i[0].price})}])}(),function(){"use strict";var e=angular.module("myApp.controller");e.controller("AboutCozumelCtrl",["$scope",function(e){this.pageIdentifier="About Cozumel",this.panelTitle="Go Diving in Cozumel and Explore the Mesmerizing Coral Reefs!"}])}(),function(){"use strict";var e=angular.module("myApp.controller");e.controller("GalleryCtrl",["$scope",function(e,i){var t=this;t.pageIdentifier="Gallery",t.panelTitle="Explore the Underwater Galaxy of Cozumel",t.picOfTheMonth={src:"images/img15.jpg",title:"Picture of the Month",description:"Contrats to Judi",user:"Troy Leach"},t.images=[{thumb:"images/img1.jpg",img:"images/img1.jpg"},{thumb:"images/img2.jpg",img:"images/img2.jpg"},{thumb:"images/img3.jpg",img:"images/img3.jpg"},{thumb:"images/img4.jpg",img:"images/img4.jpg"},{thumb:"images/img8.jpg",img:"images/img8.jpg"},{thumb:"images/img6.jpg",img:"images/img6.jpg"},{thumb:"images/img9.jpg",img:"images/img9.jpg"},{thumb:"images/img10.jpg",img:"images/img10.jpg"},{thumb:"images/img11.jpg",img:"images/img11.jpg"},{thumb:"images/img12.jpg",img:"images/img12.jpg"},{thumb:"images/img13.jpg",img:"images/img13.jpg"},{thumb:"images/img14.jpg",img:"images/img14.jpg"}]}])}(),function(){"use strict";var e=angular.module("myApp.controller");e.controller("ReservationsCtrl",["$scope","$http","$route","$location","$window","getPricingFactory",function(e,i,t,r,s,n){var a=this;a.showspinner=!1,a.pageIdentifier="Reservations",a.panelTitle="kim@divegalaxsea.com | 52-987-112-9630 | From the US: 011-52-1-987-112-9630",a.checkboxModel=!1,a.user={firstName:void 0,lastName:void 0,email:void 0,selectedDiving:[],selectedTraining:[],selectedDates:[]},a.checkFirst=function(){a.user.selectedDiving.splice(0,a.user.selectedDiving.length),a.user.selectedDiving.push("guest")},n.getDivingPricing().then(function(e){a.diving=e}),n.getTrainingPricing().then(function(e){a.training=e}),n.getRentalPricing().then(function(e){a.rentals=e}),n.getSpecialtiesPricing().then(function(e){a.specialties=e}),a.twoTank=!1,a.reset=function(){a.user={}},a.saveData=function(){a.showspinner=!0;var e={user:{first_name:a.user.firstName,last_name:a.user.lastName,email:a.user.email,phone:a.user.phone,comments:a.user.message,vacations_attributes:[{dates_array:a.user.selectedDates,diving_objects:a.user.selectedDiving,training_objects:a.user.selectedTraining,number_of_divers:a.user.numberOfDivers,resort:a.user.resort}]}};i.post(URL+"users",e).success(function(e,i){a.showSpinner=!1,s.localStorage.setItem("alerts"," I have your information and I will contact you shortly."),s.localStorage.setItem("alertType","Success!"),s.location.href="/"}).error(function(e,i){console.log(i)})},a.addDiving=function(e){a.user.selectedDiving.push(e)},a.activeDate=null,a.selectedDates=[(new Date).setHours(0,0,0,0)],a.type="individual",a.removeFromSelected=function(e){a.user.selectedDates.splice(a.user.selectedDates.indexOf(e),1)},e.roles=["guest","user","customer","admin"],e.user={roles:["user"]},e.checkAll=function(){e.user.roles=angular.copy(e.roles)},e.uncheckAll=function(){e.user.roles=[]},e.checkFirst=function(){e.user.roles.splice(0,e.user.roles.length),e.user.roles.push("guest")}}])}(),function(){"use strict";var e=angular.module("myApp.services",[]);e.factory("getWeatherFactory",["$http","$q",function(e,i){return{getWeather:function(){var t=i.defer();return e.get(WEATHER_URL).success(function(e){t.resolve(e)}).error(function(){t.reject()}),t.promise},getMarineWeather:function(){var t=i.defer();return e.get(WEATHER_MARINE_URL).success(function(e){t.resolve(e)}).error(function(){t.reject()}),t.promise}}}])}.call(this),function(){"use strict";var e=angular.module("myApp.services");e.factory("getPricingFactory",["$http","$q",function(e,i){return{getDivingPricing:function(){var t=i.defer();return e.get(URL+"divings",HEADERS).success(function(e){t.resolve(e)}).error(function(){t.reject()}),t.promise},getTrainingPricing:function(){var t=i.defer();return e.get(URL+"trainings",HEADERS).success(function(e){t.resolve(e)}).error(function(){t.reject()}),t.promise},getRentalPricing:function(){var t=i.defer();return e.get(URL+"rentals",HEADERS).success(function(e){t.resolve(e)}).error(function(){t.reject()}),t.promise},getSpecialtiesPricing:function(){var t=i.defer();return e.get(URL+"specialties",HEADERS).success(function(e){t.resolve(e)}).error(function(){t.reject()}),t.promise},getMiscellaneousPricing:function(){var t=i.defer();return e.get(URL+"miscellaneous_pricings",HEADERS).success(function(e){t.resolve(e)}).error(function(){t.reject()}),t.promise}}}])}.call(this),function(){"use strict";var e=angular.module("myApp.directives",[]);e.directive("sampleDirective",["$scope",function(e){return{restrict:"E",transclude:!0,scope:{},controller:function(e){},link:function(e,i,t){},replace:!0,templateUrl:""}}])}(),function(){"use strict";var e=angular.module("myApp.filters",[]);e.filter("simpleFilter",function(){return function(e){try{}catch(i){console.log("utcToDate :::::: ERROR: "+i)}return e}})}(),function(){"use strict";var e=angular.module("myApp.constants",[]);e.constant("liaisonConstants",{appName:"Liaison My Psych Track",loginErrorUsernamePassword:"You must enter username and password to log in",loginErrorInvalidCredentials:"Invalid credentials,Try Again!"})}(),function(){"use strict";var e=angular.module("myApp.utilityService",[]);e.service("utilService",["$timeout",function(e){this.showLoader=function(){e(function(){},2e3)},this.dismissProgress=function(){e(function(){},2e3)}}])}();