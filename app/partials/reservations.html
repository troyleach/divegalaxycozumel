<div id="page-container" class="shadow row">
  <div class="partial-header">
    <div class="col-sm-9 partial-header-page-title">
      {{ reservation.panelTitle }}
    </div>
    <div class="col-sm-3 partial-header-page-identifier">
      {{ reservation.pageIdentifier }}
    </div>
  </div>
  <div class="body-content">
    <form name="reservation.userInformation" novalidate class="user-information">
    <h3>
      Personal information
    </h3>
      <div class="row">
        <div class="col-sm-12">
          First Name:<br>
          <input type="text" ng-model="reservation.user.firstName" /><br />
          Last Name:<br>
          <input type="text" ng-model="reservation.user.lastName" /><br />
          E-mail:<br>
          <input type="email" ng-model="reservation.user.email" /><br />
          Phone Number:<br>
          <input name="phone" ng-model="reservation.user.phone" ui-mask="{{'(999) 999-9999'}}" type="text"/><br />
        </div><!-- end of col-sm-12 -->
      </div>
      <br>
      <h3>
        Select the type of diving you will be doing.
      </h3>
      <p>(check all that apply)</p>
      <div class="row">
        <div class="col-sm-4">
          <p>Diving</p>
          <p ng-repeat="dive in reservation.diving">
            <input checklist-model="reservation.user.selectedDiving" checklist-value="dive" type="checkbox" id="{{dive.title}}" />
            <label for="{{dive.title}}" style="width: 100%">{{dive.title}}</label>
          </p>
        </div>
        <div class="col-sm-6">
          <p>Training</p>
          <p ng-repeat="course in reservation.training">
            <input checklist-model="reservation.user.selectedTraining" checklist-value="course" type="checkbox" id="{{course.title}}" />
            <label for="{{course.title}}" style="width: 100%">{{course.title}}</label>
          </p>
        </div>
        <div class="col-sm-2">
          <!-- left empty on purpose -->
        </div>
      </div>

      <!-- Date picker -->
      <div class="row">
        <div class="col-sm-12">
          <div class="date-picker">
            <h3>
              Please select all dates you would like to dive.
            </h3>
            <br>
            <div class="row">
              <div class="col-md-6">
                <uib-datepicker ng-model='reservation.activeDate' multi-select='reservation.user.selectedDates' select-range='{{reservation.type=="range"}}'></uib-datepicker>
              </div>
              <div class="" ng-show="reservation.user.selectedDates.length > 0">
                Selected Dates:
                <div class='col-md-6 well well-sm'>
                  <div ng-repeat='d in reservation.user.selectedDates | orderBy'>
                    <div class="col-sm-8">
                      {{d | date : 'fullDate'}}
                    </div>
                    <div class="col-sm-4">
                      <button class='btn btn-xs btn-warning' style='margin:5px' ng-click='reservation.removeFromSelected(d)'>Remove</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <h3>
            Leave us a personal message.
          </h3>
         <textarea id="message" name="message" ng-model="reservation.user.message"  placeholder="Leave us a personal message..." cols="80" rows="10"></textarea>
        </div>
      </div>

      <div class="booking-buttons">
        <input type="button" class="btn btn-sm btn-danger" ng-click="reservation.reset()" value="Reset" />
        <input type="submit" class="btn btn-sm btn-success" ng-click="reservation.saveData()" value="Save" />
      </div>
    </form>
    <pre>{{reservation.user | json}}</pre>
  </div>
</div>
